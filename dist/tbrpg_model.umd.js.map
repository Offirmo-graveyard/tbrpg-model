{"version":3,"file":null,"sources":["es6/weapon-component/index.js","es6/armor-component/index.js"],"sourcesContent":["//import * as jsen from 'jsen'\n//import jsen = require('jsen')\n//import { jsen } from 'jsen'\nconst jsen = require('jsen');\nconst schema = require('./schema.json');\n////////////\n//export default function module() {\nconst is_schema_valid = jsen({ '$ref': 'http://json-schema.org/draft-04/schema#' })(schema);\nif (!is_schema_valid)\n    throw new Error('Adventure model : internal schema is invalid !');\nconst _validate = jsen(schema, {\n    greedy: true,\n    formats: {},\n});\nconst build = _validate.build;\nexport { schema as weapon_component_schema, build as build_weapon_component };\n//}\n/*\n\nfunction validate(data) {\n    var err = new Error('Adventure model : provided data are invalid !');\n    err.bad_data = _.cloneDeep(data);\n    err.validation_errors = [];\n\n    if (!_validate(data)) {\n        err.validation_errors = _.cloneDeep(_validate.errors);\n        console.error('Adventure model : validation error !', err.bad_data, err.validation_errors);\n        throw err;\n    }\n}\n\n\n/////// Methods ///////\nfunction Adventure(data) {\n    data = build(data || {}, { additionalProperties: false });\n    validate(data);\n\n    _.defaults(this, data);\n}\n\nAdventure.prototype.get = function () {\n    var data = build(this); // REM : perform a copy\n\n    if (data.gains.weapon)\n        data.gains.weapon = data.gains.weapon.get();\n\n    if (data.gains.armor)\n        data.gains.armor = data.gains.armor.get();\n\n    return data;\n};\n\nAdventure.create = function(data) {\n    return new Adventure(data);\n};\n*/\n//# sourceMappingURL=index.js.map","//import jsen = require('jsen')\n//import jsen from 'jsen'\n//import * as jsen from 'jsen'\n//import { jsen } from 'jsen'\nconst jsen = require('jsen');\nconst schema = require('./schema.json');\n///////\n//export default function module() {\nconst is_schema_valid = jsen({ '$ref': 'http://json-schema.org/draft-04/schema#' })(schema);\nif (!is_schema_valid)\n    throw new Error('Adventure model : internal schema is invalid !');\nconst _validate = jsen(schema, {\n    greedy: true,\n    formats: {},\n});\nconst build = _validate.build;\nexport { schema as armor_component_schema, build as build_armor_component };\n//}\n/*\n\nfunction validate(data) {\n    var err = new Error('Adventure model : provided data are invalid !');\n    err.bad_data = _.cloneDeep(data);\n    err.validation_errors = [];\n\n    if (!_validate(data)) {\n        err.validation_errors = _.cloneDeep(_validate.errors);\n        console.error('Adventure model : validation error !', err.bad_data, err.validation_errors);\n        throw err;\n    }\n}\n\n\n/////// Methods ///////\nfunction Adventure(data) {\n    data = build(data || {}, { additionalProperties: false });\n    validate(data);\n\n    _.defaults(this, data);\n}\n\nAdventure.prototype.get = function () {\n    var data = build(this); // REM : perform a copy\n\n    if (data.gains.weapon)\n        data.gains.weapon = data.gains.weapon.get();\n\n    if (data.gains.armor)\n        data.gains.armor = data.gains.armor.get();\n\n    return data;\n};\n\nAdventure.create = function(data) {\n    return new Adventure(data);\n};\n*/\n//# sourceMappingURL=index.js.map"],"names":["jsen","schema","is_schema_valid","_validate","build"],"mappings":";;;;;;IAAA;AACA,IAAA;AACA,IAAA;AACA,IAAA,IAAM,OAAO,QAAQ,MAAR,CAAb;AACA,IAAA,IAAM,SAAS,QAAQ,eAAR,CAAf;AACA,IAAA;AACA,IAAA;AACA,IAAA,IAAM,kBAAkB,KAAK,EAAE,QAAQ,yCAAV,EAAL,EAA4D,MAA5D,CAAxB;AACA,IAAA,IAAI,CAAC,eAAL,EACI,MAAM,IAAI,KAAJ,CAAU,gDAAV,CAAN;AACJ,IAAA,IAAM,YAAY,KAAK,MAAL,EAAa;AAC3B,IAAA,YAAQ,IADmB;AAE3B,IAAA,aAAS;AAFkB,IAAA,CAAb,CAAlB;AAIA,IAAA,IAAM,QAAQ,UAAU,KAAxB,CACA,AAyCA;;ICxDA;AACA,IAAA;AACA,IAAA;AACA,IAAA;AACA,IAAA,IAAMA,SAAO,QAAQ,MAAR,CAAb;AACA,IAAA,IAAMC,WAAS,QAAQ,eAAR,CAAf;AACA,IAAA;AACA,IAAA;AACA,IAAA,IAAMC,oBAAkBF,OAAK,EAAE,QAAQ,yCAAV,EAAL,EAA4DC,QAA5D,CAAxB;AACA,IAAA,IAAI,CAACC,iBAAL,EACI,MAAM,IAAI,KAAJ,CAAU,gDAAV,CAAN;AACJ,IAAA,IAAMC,cAAYH,OAAKC,QAAL,EAAa;AAC3B,IAAA,YAAQ,IADmB;AAE3B,IAAA,aAAS;AAFkB,IAAA,CAAb,CAAlB;AAIA,IAAA,IAAMG,UAAQD,YAAU,KAAxB,CACA,AAyCA;;;;;;;;;"}